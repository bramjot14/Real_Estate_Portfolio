<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>


<body>
    <!-- Header Section -->
    <header class="header-top">
        <div class="container">
            <div class="d-flex justify-content-end align-items-center">
                <div class="social-media me-3">
                    <a href="#" class="text-white me-2"><i class="fa fa-facebook"></i></a>
                    <a href="#" class="text-white me-2"><i class="fa fa-instagram"></i></a>
                    <a href="#" class="text-white me-2"><i class="fa fa-linkedin"></i></a>
                </div>
                <div class="contact-info">
                    <a href="tel:+12265065862" class="text-white me-3"><i class="fa fa-phone"></i> +1 (226) 506-5862</a>
                    <a href="mailto:sincerelysingh@gmail.com" class="text-white"><i class="fa fa-envelope"></i> sincerelysingh@gmail.com</a>
                </div>
            </div>
        </div>
    </header>

    <header class="header">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-dark">
                <a class="navbar-brand" href="#">
                    <img src="./assets/logo.jpg" alt="Logo" class="rounded-circle logo-img">
                    <div class="ms-2">
                        <span class="d-block font-weight-bold">Dilpreet Singh</span>
                        <span class="small">Real Estate Advisor</span>
                    </div>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#">PROPERTY SEARCH</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">NEWEST DEVELOPMENTS</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">LISTINGS</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">PROFILE</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">STORIES</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">CONTACT</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">HOME VALUATION</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">LOGIN</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <% if (typeof error !== "undefined" && error) { %>
        <div class="container mt-4">
            <div class="alert alert-danger text-center">
                <%= error %>
            </div>
        </div>
        <% } %>

    

        <!DOCTYPE html>
        <html lang="en">
        
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Real Estate Page</title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
            <link rel="stylesheet" href="./styles/main.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
        </head>
        
        <body>
            <!-- Header Section -->
            <header class="header-top">
                <div class="container">
                    <div class="d-flex justify-content-end align-items-center">
                        <div class="social-media me-3">
                            <a href="#" class="text-white me-2"><i class="fa fa-facebook"></i></a>
                            <a href="#" class="text-white me-2"><i class="fa fa-instagram"></i></a>
                            <a href="#" class="text-white me-2"><i class="fa fa-linkedin"></i></a>
                        </div>
                        <div class="contact-info">
                            <a href="tel:+12265065862" class="text-white me-3"><i class="fa fa-phone"></i> +1 (226) 506-5862</a>
                            <a href="mailto:sincerelysingh@gmail.com" class="text-white"><i class="fa fa-envelope"></i> sincerelysingh@gmail.com</a>
                        </div>
                    </div>
                </div>
            </header>
        
            <header class="header">
                <div class="container">
                    <nav class="navbar navbar-expand-lg navbar-dark">
                        <a class="navbar-brand" href="#">
                            <img src="./assets/logo.jpg" alt="Logo" class="rounded-circle logo-img">
                            <div class="ms-2">
                                <span class="d-block font-weight-bold">Dilpreet Singh</span>
                                <span class="small">Real Estate Advisor</span>
                            </div>
                        </a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav ms-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="#">PROPERTY SEARCH</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">NEWEST DEVELOPMENTS</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">LISTINGS</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">PROFILE</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">STORIES</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">CONTACT</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">HOME VALUATION</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">LOGIN</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </header>
        
<!-- Display error messages if any -->
<% if (typeof error !== "undefined" && error) { %>
    <div class="container mt-4">
        <div class="alert alert-danger text-center">
            <%= error %>
        </div>
    </div>
    <% } %>
    
    <!-- Login Modal -->
    <div class="modal fade <%= showLoginModal ? 'show' : '' %>" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true" style="<%= showLoginModal ? 'display: block;' : '' %>">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="login-box p-4">
                                <h4 class="mb-4 text-center">Login</h4>
                                <form id="loginForm" action="/login" method="POST">
                                    <!-- Error message display -->
                                    <% if (typeof error !== "undefined" && error) { %>
                                    <div class="alert alert-danger text-center">
                                        <%= error %>
                                    </div>
                                    <% } %>
                                    <div class="mb-3">
                                        <label for="email" class="form-label">Email Address</label>
                                        <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="password" class="form-label">Password</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" required>
                                            <span class="input-group-text" onclick="togglePasswordVisibility()">
                                                <i id="toggleIcon" class="bi bi-eye"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-dark">Log In</button>
                                    </div>
                                    <div class="text-center mt-3">
                                        <span>OR NEW USER REGISTRATION</span>
                                        <a href="#" class="btn btn-outline-dark d-block mt-2" data-bs-toggle="modal" data-bs-target="#registerModal" data-bs-dismiss="modal">Create an Account</a>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="col-md-6 d-flex justify-content-center align-items-center bg-primary text-white text-center">
                            <div class="info-box p-4">
                                <p class="quote">
                                    "By registering we will be able to provide you with extra tools to make finding properties faster and more efficiently."
                                </p>
                                <div class="d-flex justify-content-center align-items-center">
                                    <div>
                                        <h5 class="mb-0">~ Dilpreet Singh</h5>
                                        <span>Real Estate Agent</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
        
 <!-- Register Modal -->
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body p-0">
                <div class="row g-0">
                    <div class="col-md-6 register-box">
                        <h4 class="mb-4 text-center">Create your Account</h4>
                        <form action="/register" method="POST">
                                        <div class="mb-3">
                                            <label for="fullname" class="form-label">Full Name</label>
                                            <input type="text" class="form-control" id="fullname" name="fullname" placeholder="Full Name" required>
                                        </div>
                                        <div class="mb-3">
                                            <label for="email" class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
                                        </div>
                                        <div class="mb-3">
                                            <label for="password" class="form-label">Password</label>
                                            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                                        </div>
                                        <div class="mb-3">
                                            <label for="phone" class="form-label">Phone Number</label>
                                            <input type="tel" class="form-control" id="phone" name="phone" placeholder="Phone Number" required>
                                        </div>
                                        <div class="d-grid">
                                            <button type="submit" class="btn btn-custom">Create Account</button>
                                        </div>
                                        <div class="text-center mt-3">
                                            <span>OR</span>
                                            <button class="btn btn-outline-dark d-block mt-2" data-bs-toggle="modal" data-bs-target="#loginModal" data-bs-dismiss="modal">Log in</button>
                                        </div>
                                        <div class="text-center mt-3 small">
                                            By signing up you acknowledge that you have read and agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-6 d-flex align-items-center justify-content-center bg-primary text-white">
                                    <div class="info-box">
                                        <p class="quote">
                                            "By registering we will be able to provide you with extra tools to make finding properties faster and more efficiently."
                                        </p>
                                        <h5>~ Dilpreet Singh</h5>
                                        <span>Real Estate Advisor</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="hero-content">
            <div class="container">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="buy-tab" data-bs-toggle="tab" href="#buy" role="tab" aria-controls="buy" aria-selected="true">Buy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="rent-tab" data-bs-toggle="tab" href="#rent" role="tab" aria-controls="rent" aria-selected="false">Rent</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="sold-tab" data-bs-toggle="tab" href="#sold" role="tab" aria-controls="sold" aria-selected="false">Sold</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="valuation-tab" data-bs-toggle="tab" href="#valuation" role="tab" aria-controls="valuation" aria-selected="false">Home Valuation</a>
                    </li>
                </ul>
                <div class="tab-content mt-3" id="myTabContent">
                    <div class="tab-pane fade show active" id="buy" role="tabpanel" aria-labelledby="buy-tab">
                        <input type="text" class="form-control" placeholder="Enter city, zip code, MLS #, or address">
                    </div>
                    <div class="tab-pane fade" id="rent" role="tabpanel" aria-labelledby="rent-tab">
                        <input type="text" class="form-control" placeholder="Enter city, zip code, MLS #, or address">
                    </div>
                    <div class="tab-pane fade" id="sold" role="tabpanel" aria-labelledby="sold-tab">
                        <input type="text" class="form-control" placeholder="Enter city, zip code, MLS #, or address">
                    </div>
                    <div class="tab-pane fade" id="valuation" role="tabpanel" aria-labelledby="valuation-tab">
                        <input type="text" class="form-control" placeholder="Enter city, zip code, MLS #, or address">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Access Section -->
    <div class="access-section">
        <div class="left-side">
            <h1>GET ACCESS TO OUR PRIVATE LISTINGS</h1>
            <p>Fill out this form to receive the latest properties directly to your inbox.</p>
            <form>
                <div class="mb-3">
                    <input type="text" class="form-control" placeholder="Name" required>
                </div>
                <div class="mb-3">
                    <input type="email" class="form-control" placeholder="Email" required>
                </div>
                <div class="mb-3">
                    <input type="tel" class="form-control" placeholder="Phone Number" required>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="subscribe">
                    <label class="form-check-label" for="subscribe">Subscribe to newsletter</label>
                </div>
                <button type="submit" class="btn">Sign Up</button>
            </form>
        </div>
        <div class="right-side"></div>
    </div>

    <!-- Work Section -->
    <section class="work d-flex align-items-center justify-content-center text-center">
        <div class="container">
            <h1 class="display-4">Work with Dilpreet</h1>
            <p class="lead">Dilpreet represents Sellers, Buyers, Investors, and Developer clients from various areas.<br> He is notoriously known for his unwavering professionalism,<br> market expertise, and resolute work ethic.</p>
            <a href="#" class="btn btn-outline-light btn-lg">Contact Us</a>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section py-5">
        <div class="container text-center">
            <h2 class="display-5">JOIN OUR NEWSLETTER</h2>
            <p class="lead">Sign up to receive exclusive market updates and access to off-market listings direct to your inbox.</p>

            <form class="row g-3 justify-content-center">
                <div class="col-md-3">
                    <input type="text" class="form-control" placeholder="Name" required>
                </div>
                <div class="col-md-3">
                    <input type="email" class="form-control" placeholder="Email" required>
                </div>
                <div class="col-md-2">
                    <button type="submit" class="btn btn-dark w-100">SUBSCRIBE</button>
                </div>
            </form>
            <div class="form-check mt-3 text-start">
                <input class="form-check-input" type="checkbox" value="" id="privacyCheck" required>
                <label class="form-check-label small" for="privacyCheck">
                    By providing Dilpreet Singh your contact information, you acknowledge and agree to our <a href="#">Privacy Policy</a> and consent to receiving marketing communications, including through automated calls, texts, and emails, some of which may use artificial or prerecorded voices. This consent isn’t necessary for purchasing any products or services and you may opt out at any time. To opt out from texts, you can reply, 'stop' at any time. To opt out from emails, you can click on the unsubscribe link in the emails. Message and data rates may apply.
                </label>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section py-5">
        <div class="container text-center">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <img src="./assets/logo.jpg" alt="Logo" class="mb-4 rounded-circle contact-logo">
                    <div class="name-container mb-4">
                        <h2>SINGH</h2>
                        <h5>GROUP</h5>
                    </div>
                    <div class="mb-3">
                        <p><strong>Email:</strong> <a href="mailto:sincerelysingh@gmail.com" class="text-black"><i class="fa fa-envelope" style="color: black;"></i> sincerelysingh@gmail.com</a></p>
                    </div>
                    <div class="mb-3">
                        <p><strong>Address:</strong> 59 Barr Crescent, Brampton, ON L6Z3E3</p>
                    </div>
                    <div class="mb-3">
                        <p><strong>Phone Number:</strong> <a href="tel:+12265065862" class="text-black me-3"><i class="fa fa-phone" style="color: black;"></i> +1 (226) 506-5862</a></p>
                    </div>
                    <p class="small">Dilpreet Singh is a real estate agent. All material presented herein is intended for informational purposes only. Information is compiled from sources deemed reliable but is subject to errors, omissions, changes in price, condition, sale, or withdrawal without notice. No statement is made as to accuracy of any description. All measurements and square footages are approximate. This is not intended to solicit property already listed. Nothing herein shall be construed as legal, accounting, or other professional advice outside the realm of real estate brokerage.</p>
                    <hr>
                    <div class="mt-4">
                        <p>Copyright &copy; 2024 | <a href="#" style="font-weight: bolder;">Privacy Policy</a></p>
                    </div>
                    <div class="container social">
                        <div class="social-icons me-3">
                            <a href="#" class="text-black mx-2"><i class="fa fa-facebook"></i></a>
                            <a href="#" class="text-black mx-2"><i class="fa fa-instagram"></i></a>
                            <a href="#" class="text-black mx-2"><i class="fa fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap and JS -->

    
    <script>
document.addEventListener("DOMContentLoaded", function() {
    const loginForm = document.getElementById('loginForm');
    const loginModal = document.getElementById('loginModal');

    if (loginForm) {
        // Handle form submission
        loginForm.addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent the default form submission behavior

            const formData = new FormData(loginForm);
            const formObj = {};
            formData.forEach((value, key) => (formObj[key] = value));

            try {
                const response = await fetch('/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formObj)
                });

                const result = await response.json();

                if (response.ok) {
                    window.location.href = '/';
                } else {
                    showErrorMessage(result.error);
                }
            } catch (error) {
                console.error('Error during login:', error);
                showErrorMessage('An unexpected error occurred. Please try again.');
            }
        });

        // Clear the form when the modal is hidden
        loginModal.addEventListener('hidden.bs.modal', function () {
            clearErrorMessage(); // Clear any existing error message
            loginForm.reset(); // Clear all input fields
        });
    }
});

// Function to show error message
function showErrorMessage(message) {
    let errorDiv = document.querySelector('.alert-danger');
    if (!errorDiv) {
        errorDiv = document.createElement('div');
        errorDiv.className = 'alert alert-danger text-center';
        const loginForm = document.getElementById('loginForm');
        loginForm.prepend(errorDiv);
    }
    errorDiv.textContent = message;
}

// Function to clear error message
function clearErrorMessage() {
    const errorDiv = document.querySelector('.alert-danger');
    if (errorDiv) {
        errorDiv.remove();
    }
}

// Toggle password visibility
function togglePasswordVisibility() {
    const passwordInput = document.getElementById('password');
    const passwordIcon = document.getElementById('toggleIcon');

    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        passwordIcon.className = 'bi bi-eye-slash';
    } else {
        passwordInput.type = 'password';
        passwordIcon.className = 'bi bi-eye';
    }
}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>
